{"filter":false,"title":"findserviceplan.html","tooltip":"/client/findserviceplan.html","undoManager":{"mark":30,"position":30,"stack":[[{"group":"doc","deltas":[{"start":{"row":226,"column":0},"end":{"row":242,"column":11},"action":"remove","lines":["    ","        $.ajaxSetup({","            //async : false,","            beforeSend : function(jqXHR, textStatus) {","                $('#loadingModal').modal('show');","            },","            complete : function(jqXHR, textStatus) {","                $('#loadingModal').modal('hide');","            },","            error : function(jqXHR, textStatus, errorThrown ) {","                $('#loadingModal').modal('hide');","                if (jqXHR.status == 404) {","                    Bridge.msg(\"サーバーとの通信時にエラーが発生しました。\");","                }","                log(textStatus + \" : \" + errorThrown);","            }","        });"]}]}],[{"group":"doc","deltas":[{"start":{"row":225,"column":35},"end":{"row":226,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":270,"column":0},"end":{"row":365,"column":10},"action":"remove","lines":["","","        //## Bridge","        Bridge.idName = '_id';","","        var listData = {};","        var totalData = {};","","        var commonConn = new Bridge.Connector({","            //url: navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|IEMobile)/) ? \"https://bridge-c9-choish.c9.io/bridge\" : \"/bridge\"});","            url: navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|IEMobile)/)","                         ?  ((document.URL.indexOf( 'http://' ) === -1 && document.URL.indexOf( 'https://' ) === -1) ? \"https:\" : \"\") + \"//ykcform.herokuapp.com/bridge\" : \"/bridge\"});","        ","        var commonModel = {","            _id : null,","\t\t\tsignup: {click: function(e) {","\t\t\t    Bridge.tmplTool.render('login', {isSignup: true});","\t\t\t}},","\t\t\tsignupInsert: {click: function(e) {","    \t\t\tvar template = $(e.target).parents('.br-tmpl');","                var obj = Bridge.tmplTool.editor(template, {","                    login_id : {validateRule : {label: 'ID', isNullAble : false}},","                    name : {validateRule : {label: 'ID', isNullAble : false}},","                    password : {validateRule : {label: 'パスワード', isNullAble : false}},","                    password2 : {validateRule : {label: 'パスワード確認', isNullAble : false}},","                    //email : {validateRule : {label: 'E-mail', patterns : 'email'}},","                    renderMessage : function(strArray) {","                        //Bridge.tmplTool.render('message', {msg : strArray.join('<br/>')});","                        alert(strArray.join('\\n'));","                    },","                    clearError : function(strArray) {","","                    }","                });","                ","\t\t\t    if (obj.validate()) {","                    commonConn.reqExecMethod('reqExecSignup', 'signup', obj.data).request(function(data) {","                        if (cdata['reqExecSignup'][Bridge.idName]) {","                            Bridge.tmplTool.render('login', {isSignup: false});","                            commonModel.messageAreaReset({msg : 'ユーザーを登録しました。'});","                        } else {","                            commonModel.messageAreaReset(data['reqExecSignup']);","                        }","                    });","\t\t\t    }\t\t    ","\t\t\t}},","\t\t\tsignupCancel: {click: function(e) {","\t\t\t    Bridge.tmplTool.render('login', {isSignup: false});","\t\t\t}},","            login: {click: function(e) {","                var template = $(e.target).parent('.br-tmpl');","                var obj = Bridge.tmplTool.editor(template);","                Bridge.localStorageTool.push('keepLogin', obj.data.keep_login);","                commonConn.reqExecMethod('reqExecLogin', 'login', obj.data).request(function(data) {","                    commonModel._id = data['reqExecLogin'][Bridge.idName];","                    if (commonModel._id) {","                        findServicePlanModel.listAreaReset();","                        commonModel.loginAreaReset();","                    } else {","                        commonModel.messageAreaReset(data['reqExecLogin']);","                    }","","                });","            }},","            logout: {click: function(e) {","                var template = $(e.target).parent('.br-tmpl');","                var obj = Bridge.tmplTool.editor(template);","                commonConn.reqExecMethod('reqExecLogout', 'logout', obj.data).request(function(data) {","                    Bridge.tmplTool.reset({login: {keep_login : Bridge.localStorageTool.get('keepLogin')}, findServicePlanTable: null});","                });","            }},","            viewport: {change: function(e) {","                var value = e.target.value;","                localStorage['viewport_scale'] = e.target.value;","                $('meta[name=\"viewport\"]').attr('content', 'width=device-width, initial-scale=' + value + ', maximum-scale=' + value + ', user-scalable=no');","            }, setScale: function(value) {","                $('meta[name=\"viewport\"]').attr('content', 'width=device-width, initial-scale=' + value + ', maximum-scale=' + value + ', user-scalable=no');","            }},","            ","            loginAreaReset: function() {","                commonConn.reqExecMethod('loginChecker', 'loginChecker').request(function(data) {","                    data.loginChecker['keep_login'] = Bridge.localStorageTool.get('keepLogin');","                    Bridge.tmplTool.render('login', data.loginChecker);","\t\t\t\t\tif (data.loginChecker[Bridge.idName]) {","\t\t\t\t\t    commonModel._id = data.loginChecker[Bridge.idName];","\t\t\t\t\t\tfindServicePlanModel.listAreaReset();","\t\t\t\t\t\t//Bridge.tmplTool.render('serviceTimeEdit', {});","\t\t\t\t\t}","                });","            },","            ","            messageAreaReset: function(data) {","                data = data || {};","                Bridge.tmplTool.render('message', {msg : data.msg || data.error || data.warm});","            }","        };"]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":0},"end":{"row":68,"column":10},"action":"remove","lines":["    <nav class=\"navbar navbar-default navbar-fixed-top\" role=\"navigation\">","        <div class=\"container\">","            <div class=\"navbar-header\">","              <a class=\"navbar-brand\" >","                <img alt=\"Brand\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAA81BMVEX///9VPnxWPXxWPXxWPXxWPXxWPXxWPXz///9hSYT6+vuFc6BXPn37+vz8+/z9/f2LeqWMe6aOfqiTg6uXiK5bQ4BZQX9iS4VdRYFdRYJfSINuWI5vWY9xXJF0YJR3Y5Z4ZZd5ZZd6Z5h9apq0qcW1qsW1q8a6sMqpnLyrn76tocCvpMGwpMJoUoprVYxeRoJjS4abjLGilLemmbrDutDFvdLPx9nX0eDa1OLb1uPd1+Td2OXe2eXh3Ofj3+nk4Orl4evp5u7u7PLv7fPx7/T08vb08/f19Pf29Pj39vn6+fuEcZ9YP35aQn/8/P1ZQH5fR4PINAOdAAAAB3RSTlMAIWWOw/P002ipnAAAAPhJREFUeF6NldWOhEAUBRvtRsfdfd3d3e3/v2ZPmGSWZNPDqScqqaSBSy4CGJbtSi2ubRkiwXRkBo6ZdJIApeEwoWMIS1JYwuZCW7hc6ApJkgrr+T/eW1V9uKXS5I5GXAjW2VAV9KFfSfgJpk+w4yXhwoqwl5AIGwp4RPgdK3XNHD2ETYiwe6nUa18f5jYSxle4vulw7/EtoCdzvqkPv3bn7M0eYbc7xFPXzqCrRCgH0Hsm/IjgTSb04W0i7EGjz+xw+wR6oZ1MnJ9TWrtToEx+4QfcZJ5X6tnhw+nhvqebdVhZUJX/oFcKvaTotUcvUnY188ue/n38AunzPPE8yg7bAAAAAElFTkSuQmCC\">","              </a>","    \t\t<div id=\"menu\" class=\"br-tmpl panel-body navbar-left\" role=\"form\">","    \t\t    <script type=\"text/tmpl\" data-tmpl-id=\"menu\">","        \t\t    <select data-event=\"##:commonModel.viewport##\" id=\"viewport-scale\">","                        ##","                        var sv = 0;","                        var selected = false;","                        var value = localStorage['viewport_scale'] || 1;","                        commonModel.viewport.setScale(value);","                        for (var i=150; i > 49; i=i-5) {","                            sv = i / 100;","                            selected = value == sv;","                        ##","                            <option value=\"##=sv##\" ##=selected ? 'selected=\"selected\"' : \"\"##>x ##=sv##</option>","                        ##}##","                    </select>","                </script>","    \t\t</div>","    \t\t<div id=\"login\" class=\"br-tmpl form-signin panel-body navbar-right\" role=\"form\">","                <script type=\"text/tmpl\" data-tmpl-id=\"login\">","                ","                    ##if(data.isSignup) {##","                        <h3>ユーザー登録</h3>","                        <input type=\"text\" name=\"login_id\" value=\"\" class=\"form-control\" placeholder=\"ID\"/>","                        <input type=\"password\" name=\"password\" value=\"\" class=\"form-control\" placeholder=\"パスワード\"/>","                        <input type=\"password\" name=\"password2\" value=\"\" class=\"form-control\" placeholder=\"パスワード確認\"/>","                        <input type=\"text\" name=\"name\" value=\"\" class=\"form-control\" placeholder=\"お名前\"/>","                        <input type=\"email\" name=\"email\" value=\"\" class=\"form-control\" placeholder=\"E-mail\"/>","                        <br/>","                        <button data-event=\"##:commonModel.signupInsert##\" class=\"btn btn-primary\">登録</button>","                        <button data-event=\"##:commonModel.signupCancel##\" class=\"btn\">キャンセル</button>","                    ##} else if(!data[Bridge.idName]) {##","                    <a href=\"#\" data-event=\"##:commonModel.signup##\" class=\"\">ユーザー登録</a>","                    <input type=\"text\" name=\"login_id\" value=\"\" class=\"form-control\" placeholder=\"ID\"/>","                    <input type=\"password\" name=\"password\" value=\"\" class=\"form-control\" placeholder=\"パスワード\"/>","                    <label><input type=\"checkbox\" name=\"keep_login\" value=\"checked\" ##=data.keep_login##/>ログイン保存</label>","                    <button data-event=\"##:commonModel.login##\" class=\"btn btn-lg btn-primary btn-block\">Sign In</button>","                    ##} else {##","                    <span>##=data.name##</span>","                    <button data-event=\"##:commonModel.logout##\" class=\"btn btn-primary btn-xs\">Sign Out</button>","                    ##}##","                </script>","    \t\t</div>","    \t\t</div>","            <div id=\"message\" class=\"br-tmpl\">","                <script type=\"text/tmpl\" data-tmpl-id=\"message\">","                    <div>##=data.msg##</div>","                </script>","            </div>","        </div>","    </nav>"]},{"start":{"row":13,"column":0},"end":{"row":51,"column":10},"action":"insert","lines":["    <nav class=\"navbar navbar-default navbar-fixed-top\" role=\"navigation\">","        <div class=\"container\">","            <div class=\"navbar-header\">","                <a class=\"navbar-brand\" >","                    <img alt=\"Brand\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAA81BMVEX///9VPnxWPXxWPXxWPXxWPXxWPXxWPXz///9hSYT6+vuFc6BXPn37+vz8+/z9/f2LeqWMe6aOfqiTg6uXiK5bQ4BZQX9iS4VdRYFdRYJfSINuWI5vWY9xXJF0YJR3Y5Z4ZZd5ZZd6Z5h9apq0qcW1qsW1q8a6sMqpnLyrn76tocCvpMGwpMJoUoprVYxeRoJjS4abjLGilLemmbrDutDFvdLPx9nX0eDa1OLb1uPd1+Td2OXe2eXh3Ofj3+nk4Orl4evp5u7u7PLv7fPx7/T08vb08/f19Pf29Pj39vn6+fuEcZ9YP35aQn/8/P1ZQH5fR4PINAOdAAAAB3RSTlMAIWWOw/P002ipnAAAAPhJREFUeF6NldWOhEAUBRvtRsfdfd3d3e3/v2ZPmGSWZNPDqScqqaSBSy4CGJbtSi2ubRkiwXRkBo6ZdJIApeEwoWMIS1JYwuZCW7hc6ApJkgrr+T/eW1V9uKXS5I5GXAjW2VAV9KFfSfgJpk+w4yXhwoqwl5AIGwp4RPgdK3XNHD2ETYiwe6nUa18f5jYSxle4vulw7/EtoCdzvqkPv3bn7M0eYbc7xFPXzqCrRCgH0Hsm/IjgTSb04W0i7EGjz+xw+wR6oZ1MnJ9TWrtToEx+4QfcZJ5X6tnhw+nhvqebdVhZUJX/oFcKvaTotUcvUnY188ue/n38AunzPPE8yg7bAAAAAElFTkSuQmCC\">","                </a>","        \t\t<div id=\"menu\" class=\"br-tmpl panel-body navbar-left\" role=\"form\">","        \t\t    <script type=\"text/tmpl\" data-tmpl-id=\"menu\">","            \t\t    <select data-event=\"##:commonModel.viewport##\" id=\"viewport-scale\">","                            ##","                            var sv = 0;","                            var selected = false;","                            var value = localStorage['viewport_scale'] || 1;","                            commonModel.viewport.setScale(value);","                            for (var i=150; i > 49; i=i-5) {","                                sv = i / 100;","                                selected = value == sv;","                            ##","                                <option value=\"##=sv##\" ##=selected ? 'selected=\"selected\"' : \"\"##>x ##=sv##</option>","                            ##}##","                        </select>","                    </script>","        \t\t</div>","        \t\t<div id=\"loginUser\" class=\"br-tmpl panel-body navbar-right\" role=\"form\">","                    <script type=\"text/tmpl\" data-tmpl-id=\"loginUser\">","                        ##if(data.name) {##","                        <span>##=data.name##</span>","                        <button data-event=\"##:commonModel.logout##\" class=\"btn btn-primary btn-xs\">Sign Out</button>","                        ##}##","                    </script>","        \t\t</div>","    \t\t</div>","            <div id=\"message\" class=\"br-tmpl\">","                <script type=\"text/tmpl\" data-tmpl-id=\"message\">","                    <div>##=data.msg##</div>","                </script>","            </div>","        </div>","    </nav>"]}]}],[{"group":"doc","deltas":[{"start":{"row":201,"column":0},"end":{"row":201,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":200,"column":4},"end":{"row":201,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":200,"column":0},"end":{"row":200,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":199,"column":10},"end":{"row":200,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":251,"column":0},"end":{"row":258,"column":9},"action":"insert","lines":["        commonModel.loginCheckerAfter = function(data) {","            appSettingConn.reqData('appData', 'apps').request(function(data, textStatus, jqXHR) {","                findServiceModel.listAreaReset();","    \t\t});","        }","        commonModel.logoutAfter = function(data) {","            Bridge.tmplTool.reset({login: {keep_login : Bridge.localStorageTool.get('keepLogin')}, findService: null});","        }"]}]}],[{"group":"doc","deltas":[{"start":{"row":253,"column":16},"end":{"row":253,"column":49},"action":"remove","lines":["findServiceModel.listAreaReset();"]}]}],[{"group":"doc","deltas":[{"start":{"row":252,"column":12},"end":{"row":254,"column":9},"action":"remove","lines":["appSettingConn.reqData('appData', 'apps').request(function(data, textStatus, jqXHR) {","                ","    \t\t});"]},{"start":{"row":252,"column":12},"end":{"row":252,"column":45},"action":"insert","lines":["findServiceModel.listAreaReset();"]}]}],[{"group":"doc","deltas":[{"start":{"row":205,"column":45},"end":{"row":206,"column":37},"action":"insert","lines":["","    <script src=\"js/app.js\"></script>"]}]}],[{"group":"doc","deltas":[{"start":{"row":381,"column":24},"end":{"row":381,"column":38},"action":"remove","lines":["loginAreaReset"]},{"start":{"row":381,"column":24},"end":{"row":381,"column":36},"action":"insert","lines":["loginChecker"]}]}],[{"group":"doc","deltas":[{"start":{"row":256,"column":35},"end":{"row":256,"column":98},"action":"remove","lines":["login: {keep_login : Bridge.localStorageTool.get('keepLogin')},"]},{"start":{"row":256,"column":35},"end":{"row":256,"column":52},"action":"insert","lines":[", loginUser: null"]}]}],[{"group":"doc","deltas":[{"start":{"row":256,"column":52},"end":{"row":256,"column":53},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":256,"column":36},"end":{"row":256,"column":37},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":256,"column":35},"end":{"row":256,"column":36},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":256,"column":12},"end":{"row":256,"column":13},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":256,"column":13},"end":{"row":256,"column":14},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":256,"column":74},"end":{"row":257,"column":0},"action":"insert","lines":["",""]},{"start":{"row":257,"column":0},"end":{"row":257,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":257,"column":12},"end":{"row":257,"column":32},"action":"insert","lines":["location.href = \"/\";"]}]}],[{"group":"doc","deltas":[{"start":{"row":258,"column":9},"end":{"row":261,"column":9},"action":"insert","lines":["","        commonModel.loginCheckerFail = function(data) {","            location.href = \"/\";","        }"]}]}],[{"group":"doc","deltas":[{"start":{"row":387,"column":12},"end":{"row":387,"column":48},"action":"remove","lines":["Bridge.tmplTool.render('login', {});"]},{"start":{"row":387,"column":12},"end":{"row":387,"column":32},"action":"insert","lines":["location.href = \"/\";"]}]}],[{"group":"doc","deltas":[{"start":{"row":384,"column":8},"end":{"row":384,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":384,"column":9},"end":{"row":384,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":386,"column":8},"end":{"row":386,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":386,"column":9},"end":{"row":386,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":388,"column":8},"end":{"row":388,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":388,"column":9},"end":{"row":388,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":387,"column":8},"end":{"row":387,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":387,"column":9},"end":{"row":387,"column":10},"action":"insert","lines":["/"]}]}]]},"ace":{"folds":[],"scrolltop":2921,"scrollleft":0,"selection":{"start":{"row":387,"column":10},"end":{"row":387,"column":10},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":217,"state":"js-start","mode":"ace/mode/html"}},"timestamp":1428801302844,"hash":"a72b0f5a2f61763e18f9d08ae886f5375f28ae83"}